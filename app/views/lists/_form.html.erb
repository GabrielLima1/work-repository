<% if @list.errors.any? %>
  <h3>Corrija o(s) seguinte(s) erro(s):</h3>
  <ul>
    <% @list.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>

<%= form_for @list, class: "form-inline" do |f| %>

  <%= f.label :name, "Nome da Lista"%>
  <%= f.text_field :name, placeholder: "Coisas para fazer em casa", size: 25%>

  <%= f.label :visibility, "Visibilidade"%>
  <%= f.select :visibility, ["Pública", "Privada"]%> <br/><br/>
  <%= f.hidden_field :user_id, :value => current_user.id %><br>
  <%= f.fields_for :works do |w|%>
    <div class="work-fields">
        <%= w.label :name, "Nome Tarefa"%>
        <%= w.text_field :name, placeholder: "Varrer o chão!"%>
        <%= w.hidden_field :_destroy%>
        <%= link_to "[Apagar]", '#', onClick: "removeFields(this); return false;" %>
      <%= w.fields_for :sub_works do |sw|%>
        <div class="fields">
          <%= sw.label :name, "Nome Sub-Tarefa"%>
          <%= sw.text_field :name, placeholder: "Varrer a sala"%>
          <%= sw.hidden_field :_destroy%>
          <%= link_to "[Apagar]", '#', onClick: "removeField(this); return false;" %>
        </div>
      <% end %><br/>
    </div>
  <% end %><br/>
  <%= link_to "<span class='fa'>&#xf060;</span>".html_safe,lists_path, :class => 'btn btn-default'  %>
  <%= f.button :submit, class: "btn btn-primary", label: "Salvar Lista" %>
<% end %>

<!-- <%= form_for @list do |l| %>
  <%= l.label :name%>
  <%= l.text_field :name%><br/>
  <%= l.label :visibility%>
  <%= l.select :visibility, ["Publico", "Privado"]%><br/>
  <% @list.works.each do |work| %>
    <%= field_set_tag 'Work' do %>
      <%= l.fields_for :works, work do |wl| %>
        <%= wl.label :name %>
        <%= wl.text_field :name %>
      <% end %>
    <% end %>
  <% end %>
  <%= l.button :submit, class: "btn btn-primary", label: "Salvar Lista" %>
<% end %> -->
